
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Redirigiendo...</title>
  <script>
    // URL principal (la que quieres mostrar siempre como oficial)
    const primaryUrl = "https://georecon.ddns.net/visor.html";

    // URL alterna (oculta, solo fallback)
    const backupUrl  = "https://experience.arcgis.com/experience/bc9d920e480b4e71826afa2b4bb2a9a9/page/P%C3%A1gina2?draft=true";

    const TIMEOUT = 4000; // tiempo de espera (ms)

    function testServer(url) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => reject(false);
        img.src = url + "?check=" + Date.now();
        setTimeout(() => reject(false), TIMEOUT);
      });
    }

    async function redirect() {
      try {
        await testServer(primaryUrl);
        window.location.replace(primaryUrl);
      } catch {
        window.location.replace(backupUrl);
      }
    }

    window.onload = redirect;
  </script>
</head>
<body>
  <p>Conectando al visor... espere un momento.</p>
</body>
</html>
